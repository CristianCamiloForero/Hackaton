<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simulador Robot de Almacén</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Hero Section -->
    <div class="hero">
      <svg class="hero-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="5" y="4" width="14" height="16" rx="2" stroke="#2563eb" stroke-width="2"/>
        <circle cx="12" cy="9" r="2" fill="#2563eb"/>
        <path d="M9 14h6M9 17h4" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
        <path d="M5 6L3 8v8l2 2M19 6l2 2v8l-2 2" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <h1>Simulador Robot de Almacén</h1>
      <p>Optimiza la recolección de paquetes con algoritmos inteligentes</p>
    </div>

    <!-- Main Card -->
    <div class="main-card">
      <!-- CTA Section -->
      <div class="cta-section" id="ctaSection">
        <h2>Simula tu Recolección</h2>
        <p>Configura las ubicaciones de los paquetes y descubre la ruta óptima para tu robot recolector</p>
        <button id="startBtn" class="btn-primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13 2L3 14h8l-1 8 10-12h-8l1-8z" fill="currentColor"/>
          </svg>
          Iniciar Simulación
        </button>
      </div>

      <!-- Form Section -->
      <div class="form-section" id="formSection">
        <div class="form-header">
          <h3>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
              <circle cx="12" cy="12" r="9" stroke="#2563eb" stroke-width="2"/>
              <path d="M12 6v6l4 2" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Configuración de Paquetes
          </h3>
          <button id="loadDefaultsBtn" class="btn-secondary">Cargar Ejemplo</button>
        </div>

        <!-- Package Tabs -->
        <div class="tabs-container">
          <div class="tabs-header" id="tabsHeader">
            <button class="tab-button active" data-tab="0">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
              </svg>
              Paquete 1
            </button>
          </div>
          <button class="add-tab-btn" id="addTabBtn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Agregar Paquete
          </button>
        </div>

        <!-- Tab Content -->
        <div class="tabs-content" id="tabsContent">
          <div class="tab-pane active" data-pane="0">
            <div class="form-grid">
              <div class="form-group">
                <label>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
                    <path d="M12 5v14M5 12h14" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Fila
                  <div class="label-description">Coordenada vertical del paquete</div>
                </label>
                <input type="number" class="package-row" data-index="0" value="0" min="0" />
              </div>

              <div class="form-group">
                <label>
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
                    <path d="M12 5v14M5 12h14" stroke="#2563eb" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Columna
                  <div class="label-description">Coordenada horizontal del paquete</div>
                </label>
                <input type="number" class="package-col" data-index="0" value="0" min="0" />
              </div>
            </div>

            <div class="tab-actions">
              <button type="button" class="btn-danger remove-tab-btn" data-index="0">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Eliminar Paquete
              </button>
            </div>
          </div>
        </div>

        <!-- Package Summary -->
        <div class="package-summary" id="packageSummary">
          <div class="summary-title">Resumen de Paquetes</div>
          <div class="summary-list" id="summaryList"></div>
        </div>

        <form id="simulationForm">
          <div class="form-actions">
            <button type="button" id="cancelBtn" class="btn-secondary">Cancelar</button>
            <button type="submit" id="runBtn" class="btn-success">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5 3l14 9-14 9V3z" fill="currentColor"/>
              </svg>
              Ejecutar Simulación
            </button>
          </div>
        </form>
      </div>

      <!-- Results Section -->
      <div class="results-section" id="resultsSection">
        <div class="results-header">
          <h3>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
              <circle cx="12" cy="12" r="10" fill="#10b981"/>
              <path d="M8 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Resultados de la Simulación
          </h3>
          <button id="backToFormBtn" class="btn-secondary">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 12H5M12 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Nueva Simulación
          </button>
        </div>

        <div class="result-card">
          <div class="result-stats" id="resultStats"></div>
        </div>

        <!-- Warehouse Grid -->
        <div class="warehouse-container">
          <div class="warehouse-header">
            <span class="warehouse-title">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                <rect x="3" y="3" width="18" height="18" rx="2" stroke="#2563eb" stroke-width="2"/>
                <path d="M3 9h18M9 3v18" stroke="#2563eb" stroke-width="2"/>
              </svg>
              Visualización del Almacén
            </span>
            <div class="warehouse-legend">
              <span class="legend-item"><span class="legend-color" style="background: #10b981;"></span> Inicio</span>
              <span class="legend-item"><span class="legend-color" style="background: #f59e0b;"></span> Paquetes</span>
              <span class="legend-item"><span class="legend-color" style="background: #3b82f6;"></span> Ruta</span>
              <span class="legend-item"><span class="legend-color" style="background: #ef4444;"></span> Final</span>
            </div>
          </div>
          <div id="warehouseGrid"></div>
        </div>

        <div class="table-container">
          <div class="table-header">
            <span class="table-title">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
                <rect x="3" y="3" width="18" height="18" rx="2" stroke="#2563eb" stroke-width="2"/>
                <path d="M3 9h18M9 3v18" stroke="#2563eb" stroke-width="2"/>
              </svg>
              Detalle de Movimientos
            </span>
            <button id="exportBtn" class="btn-export" disabled>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3v12m0 0l-4-4m4 4l4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                <path d="M3 17v2a2 2 0 002 2h14a2 2 0 002-2v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              Exportar a Excel
            </button>
          </div>
          <div id="tableArea"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <svg id="notificationIcon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="12" cy="12" r="10" fill="#10b981"/>
      <path d="M8 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span id="notificationText"></span>
  </div>

  <script src="app.js"></script>
</body>
</html>